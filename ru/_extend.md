
# Расширение

Директива `@extend` одна из особенностей, которая сделала Sass таким популярным несколько лет назад. Напомним, что она позволяет Sass разработать элемент A именно так, как будто он также соответствует селектору B. Разумеется, этот функционал является ценным союзником при написании модульного CSS.

Однако, я чувствую, что я должен предостеречь вас от этой директивы. Директива `@extend` до сих пор сложная концепция, которая может принести больше вреда, чем пользы, особенно когда неправильно используется. Дело в том, что при расширении селектора, вы практически не имеете возможности ответить на вопросы, о том, что происходит, не имея глубоких знаний всей кодовой базы:

* где мой текущий селектор будет добавлен?
* я, скорее всего, яляюсь причиной нежелательных побочных эффектов?
* насколько много CSS генерируются одной директивой ?

Чтобы вы знали, результат может варьироваться от никакого до катастрофических побочных эффектов. Из-за этого, мой совет избегать `@extend` директиву. Это может показаться жестким, но в конце концов, это может спасти вас от головной боли и неприятностей.

Как говорится:

> Никогда не говори никогда.<br>
> &mdash; По видимому, [не Beyonce](https://github.com/HugoGiraudel/sass-guidelines/issues/31#issuecomment-69112419).

Есть ситуации, в которых расширяющие селекторы могут быть полезны и стоят того, чтобы их использовать. Тем не менее, всегда имейте в виду, эти правила, чтобы не попасть в беду:

* Используйте директиву расширения внутри модуля, но не в разных модулях.
* Используйте директиву расширения исключительно на плейсхолдеры, а не на реальных селекторах.
* Убедитесь, что плейсхолдер, который вы расширияте присутствует как можно реже в таблице стилей.

Если вы собираетесь использовать расширения, позвольте мне также напомнить вам, что это не очень хорошо работает с `@media` блоками. Как вы, возможно, знаете, Sass не в состоянии расширить внешний селктор изнутри медиа-запроса. При этом, компилятор просто вылетает, говоря вам, что вы не можете сделать такую вещь. Не очень приятно. Тем более, что медиа, почти всё, что мы знаем.

<div class="code-block">
  <div class="code-block__wrapper" data-syntax="scss">
{% highlight scss %}
.foo {
  content: 'foo';
}

@media print {
  .bar {
    // Это не работает. Еще хуже: это ломает.
    @extend .foo;
  }
}
{% endhighlight %}
  </div>
  <div class="code-block__wrapper" data-syntax="sass">
{% highlight sass %}
.foo
  content: 'foo'

@media print
  .bar
    // Это не работает. Еще хуже: это ломает.
    @extend .foo
{% endhighlight %}
  </div>
</div>

> Вы не можете расширить внешний селектор из медиа-запроса с помощью @extend.<br>
> Вы можете делать @extend только селекторов внутри одной и той же директивы.

<div class="note">
  <p>Говорят, что <code>@extend</code> уменьшает размер файла, так как комбинирует селекторы, а не дублирует код. Это правда, однако, разница незначительна <a href="http://en.wikipedia.org/wiki/Gzip">Gzip</a>.</p>
  <p>Если вы не можете использовать Gzip (или эквивалент), то использование <code>@extend</code> может быть и не так плохо, до тех пор пока вы знаете, что вы делаете.</p>
</div>

Подводя итог, я бы **не рекомендовал использовать директиву `@extend`**, только если при некоторых конкретных обстоятельствах, но я не буду заходить так далеко, чтобы запрещать её.


### Дальнейшее чтение

* [What Nobody Told you About Sass Extend](http://www.sitepoint.com/sass-extend-nobody-told-you/)
* [Why You Should Avoid Extend](http://www.sitepoint.com/avoid-sass-extend/)
* [Don't Over Extend Yourself](http://pressupinc.com/blog/2014/11/dont-overextend-yourself-in-sass/)
* [When to Use Extend; When to Use a Mixin](http://csswizardry.com/2014/11/when-to-use-extend-when-to-use-a-mixin/)
